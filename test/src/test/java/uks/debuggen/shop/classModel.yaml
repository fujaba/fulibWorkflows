- c: 	org.fulib.classmodel.ClassModel
  classes: 	testordering_smooth
  defaultCollectionType: 	c1
  defaultPropertyStyle: 	Bean
  defaultRoleType: 	"java.util.ArrayList<%s>"
  mainJavaDir: 	"test/src/test/java"
  packageName: 	uks.debuggen.shop
  packageSrcFolder: 	"test/src/test/java/uks/debuggen/shop"

- testordering_smooth: 	org.fulib.classmodel.Clazz
  attributes: 	testordering_smooth_eventBroker
  importList: 	"import org.junit.Test;" 	"import uks.debuggen.shop.events.*;" 	"import uks.debuggen.shop.Shop.ShopService;" 	"import uks.debuggen.shop.Storage.StorageService;" 	"import org.fulib.yaml.Yaml;" 	"import com.mashape.unirest.http.HttpResponse;" 	"import com.mashape.unirest.http.Unirest;" 	"import com.mashape.unirest.http.exceptions.UnirestException;"
  imports: 	"import org.junit.Test;" 	"import uks.debuggen.shop.events.*;" 	"import uks.debuggen.shop.Shop.ShopService;" 	"import uks.debuggen.shop.Storage.StorageService;" 	"import org.fulib.yaml.Yaml;" 	"import com.mashape.unirest.http.HttpResponse;" 	"import com.mashape.unirest.http.Unirest;" 	"import com.mashape.unirest.http.exceptions.UnirestException;"
  methods: 	testordering_smooth_ordering_smooth 	testordering_smooth_publish
  model: 	c
  modified: 	false
  name: 	Testordering_smooth
  propertyStyle: 	Bean

- c1: 	org.fulib.classmodel.CollectionType
  implClass: 	class java.util.ArrayList
  implTemplate: 	"java.util.ArrayList<%s>"
  itf: 	org.fulib.classmodel.CollectionInterface.List
  qualifiedImplName: 	java.util.ArrayList
  simpleImplName: 	ArrayList

- testordering_smooth_eventBroker: 	org.fulib.classmodel.Attribute
  clazz: 	testordering_smooth
  id: 	Testordering_smooth_eventBroker
  modified: 	false
  name: 	eventBroker
  propertyStyle: 	Bean
  type: 	EventBroker
  typeSignature: 	EventBroker

- testordering_smooth_ordering_smooth: 	org.fulib.classmodel.FMethod
  annotations: 	"@Test"
  clazz: 	testordering_smooth
  declaration: 	"@Test
public void ordering_smooth()"
  id: 	Testordering_smooth_ordering_smooth
  methodBody: 	"// start the event broker
eventBroker = new EventBroker();
eventBroker.start();

// start service
ShopService shop = new ShopService();
shop.start();

// start service
StorageService storage = new StorageService();
storage.start();

// create ProductStored: 12:00
ProductStored e1200 = new ProductStored();
e1200.setId(\"12:00\");
e1200.setBox(\"box23\");
e1200.setProduct(\"shoes\");
e1200.setPlace(\"shelf23\");
publish(e1200);

// create CommandSent: 13:00
CommandSent e1300 = new CommandSent();
e1300.setId(\"13:00\");
e1300.setType(\"OrderRegistered\");
e1300.setL1(\"label welcome to the shop\");
e1300.setProduct(\"input product? shoes\");
e1300.setCustomer(\"input name? Alice\");
e1300.setAddress(\"input address? Wonderland 1\");
e1300.setOk(\"button OK\");
publish(e1300);

// create OrderRegistered: 13:01
OrderRegistered e1301 = new OrderRegistered();
e1301.setId(\"13:01\");
e1301.setProduct(\"shoes\");
e1301.setCustomer(\"Alice\");
e1301.setAddress(\"Wonderland 1\");
publish(e1301);

// create OrderPicked: 14:00
OrderPicked e1400 = new OrderPicked();
e1400.setId(\"14:00\");
e1400.setPickTask(\"pick1300\");
e1400.setBox(\"box23\");
e1400.setUser(\"Bob\");
publish(e1400);
System.out.println();
"
  modified: 	false
  modifiers: 	public
  name: 	ordering_smooth
  paramsString: 	""
  returnType: 	void
  signature: 	"class/Testordering_smooth/method/ordering_smooth()"

- testordering_smooth_publish: 	org.fulib.classmodel.FMethod
  annotations: 	""
  clazz: 	testordering_smooth
  declaration: 	"public void publish(Event event)"
  id: 	Testordering_smooth_publish
  methodBody: 	"String yaml = Yaml.encode(event);

try {
   HttpResponse<String> response = Unirest.post(\"http://localhost:42000/publish\")
         .body(yaml)
         .asString();
   System.out.println(response.getBody());
}
catch (UnirestException e) {
   e.printStackTrace();
}"
  modified: 	false
  modifiers: 	public
  name: 	publish
  paramsString: 	"Event event"
  returnType: 	void
  signature: 	"class/Testordering_smooth/method/publish(Event)"

