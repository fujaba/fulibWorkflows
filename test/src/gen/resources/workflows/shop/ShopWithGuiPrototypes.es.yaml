
- board: micro shop

- workflow: smooth case

- action: Peter Picker

- page:
    - name: Warehouse overview
    - label: Warehouse Home
    - button: Store Tasks
    - button: Pick Tasks


- page:
    - name: Warehouse store tasks
    - label: Warehouse palettes
    - button: add
    - label: empty


- page:
    - name: Warehouse add palette
    - label: Store new palette
    - input: barcode
      fill: b001
    - input: product
      fill: red_shoes
    - input: amount
      fill: 10
    - input: location
      fill: shelf_42
    - button: ok
      command: store product 01


- policy: Warehouse

- data: Palette
  barcode: b001
  product: red_shoes
  product.back: [palettes]
  amount: 10
  location: shelf_42

- data: WHProduct
  name: red_shoes
  amount: 10

- event: product stored
  barcode: b001
  product: red_shoes

- policy: MicroShop

- data: MSProduct
  name: red_shoes
  state: in stock

- page:
    - name: Warehouse store tasks
    - label: Warehouse palettes
    - button: add
    - label: b001, 10 red_shoes, shelf_42

- page:
    - name: Warehouse add palette
    - label: Store new palette
    - input: barcode
      fill: b002
    - input: product
      fill: red_shoes
    - input: amount
      fill: 8
    - input: location
      fill: shelf_23
    - button: ok
      command: store product 02

- policy: Warehouse

- data: Palette
  barcode: b002
  product: red_shoes
  amount: 8
  location: shelf_23

- data: WHProduct
  name: red_shoes
  amount: 18

- event: product stored
  barcode: b002
  product: red_shoes

- policy: MicroShop

- data: MSProduct
  name: red_shoes
  state: in stock

- page:
    - name: Warehouse overview
    - label: Warehouse palettes
    - button: add
    - label: b002, red_shoes, shelf_23
    - label: b001, red_shoes, shelf_42

- page:
    - name: Warehouse add palette
    - label: Store new palette
    - input: barcode
      fill: b003
    - input: product
      fill: blue_jeans
    - input: amount
      fill: 6
    - input: location
      fill: shelf-1337
    - button: ok
      command: store product 03

- policy: Warehouse

- data: Palette
  barcode: b003
  product: blue_jeans
  amount: 6
  location: shelf_1337

- data: WHProduct
  name: blue_jeans
  amount: 6

- event: product stored
  barcode: b003
  product: blue_jeans

- policy: MicroShop

- data: MSProduct
  name: blue_jeans
  state: in stock

- page:
    - name: Warehouse overview
    - label: Warehouse palettes
    - button: add
    - label: b003, blue_jeans, shelf_1337
    - label: b002, red_shoes, shelf_23
    - label: b001, red_shoes, shelf_42

- action: Sabine Sales

- page:
    - name: MicroShop offers
    - label: Offers overview
    - button: add
    - label: no offers yet

- page:
    - name: MicroShop add offer
    - label: make new offer
    - input: product
      fill: red_shoes
    - input: price
      fill: $42
    - button: ok
      command: add offer 12:14:42

- policy: MicroShop

- data: MSProduct
  name: red_shoes
  price: $42

- event: product offered
  name: red_shoes
  price: $42

- page:
    - name: MicroShop offers
    - label: Offers overview
    - button: add
    - label: red_shoes, $42

- page:
    - name: MicroShop add offer
    - label: make new offer
    - input: product
      fill: blue_jeans
    - input: price
      fill: $63
    - button: ok
      command: add offer

- policy: MicroShop

- data: MSProduct
  name: blue_jeans
  price: $63

- event: product offered
  name: blue_jeans
  price: $63

- page:
    - name: MicroShop offers
    - label: Offers overview
    - button: add
    - label: red_shoes, $42
    - label: blue_jeans, $63


- action: Carli_Customer

- page:
    - name: MicroShop offers
    - label: Welcome to our micro shop
    - label: We have
    - label: red_shoes for $42
    - label: blue_jeans for $63
    - button: order

- page:
    - name: MicroShop buy
    - label: Welcome to our micro shop
    - input: product
      fill: red_shoes
    - input: customer
      fill: Carli_Customer
    - input: address
      fill: Wonderland 1
    - button: buy
      command: place order

- policy: MicroShop

- data: Order
  code: o0925_1
  product: red_shoes
  product.back: [orders]
  customer: Carli_Customer
  customer.back: [orders]
  address: Wonderland 1
  state: new order

- data: Customer
  name: Carli_Customer

- event: product ordered
  code: o0925_1
  product: red_shoes
  customer: Carli_Customer
  address: Wonderland 1

- policy: Warehouse

- data: PickTask
  code: pt_o0925_1
  product: red_shoes
  product.back: [pickTasks]
  shelf: [shelf 42, shelf 23]
  customer: Carli_Customer
  address: Wonderland 1
  state: picking

- event: Pick task created
  code: pt_o0925_1
  order: o0925_1

- policy: MicroShop

- data: Order
  code: o0925_1
  state: picking


- page:
    - name: MicroShop Carli overview
    - label: Welcome Carli
    - label: Your orders are
    - label: red_shoes for $42, picking
    - button: order


- action: Peter Picker

- page:
    - name: Warehouse pick tasks
    - label: Pick tasks overview
    - button: pt_o0925_1, red_shoes, shelf 42, shelf 23

- page:
    - name: Warehouse pick one
    - label: Pick one
    - input: task
      fill: pt_o0925_1
    - input: shelf
      fill: shelf 42
    - button: done
      command: Pick

- policy: Warehouse

- data: PickTask
  code: pt_o0925_1
  from: shelf 42
  state: shipping

- event: order picked
  order: o0925_1

- policy: MicroShop

- data: Order
  code: o0925_1
  state: shipping

- page:
    - name: Warehouse pick tasks
    - label: Pick tasks overview
    - label: no tasks, have a break


- action: Dora Delivery

- page:
    - name: Warehouse delivery tasks
    - label: Delivery tasks overview
    - button: red_shoes, Wonderland 1

- page:
    - name: Warehouse deliver
    - label: Delivering
    - input: order
      fill: o0925_1
    - button: done
      command: deliver order

- policy: MicroShop

- data: Order
  code: o0925_1
  state: delivered

- event: order delivered
  order: o0925_1

- page:
    - name: Warehouse delivery tasks
    - label: Delivery tasks overview
    - label: everything delivered, you are a hero


- workflow: out of stock

- action: Carli_Customer

- event: product ordered

- event: order rejected


