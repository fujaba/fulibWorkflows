
- board: micro shop

- workflow: smooth case

- action: Peter Picker

- page:
    - name: Warehouse overview
    - label: Warehouse boxes
    - button: add


- page:
    - name: Warehouse add box
    - label: Store new box
    - input: barcode
      fill: b001
    - input: type
      fill: red shoes
    - input: location
      fill: shelf 42
    - button: ok
      command: store product


- policy: Warehouse

- data: Box
  barcode: b001
  content: red shoes
  location: shelf 42

- event: product stored
  barcode: b001
  type: red shoes

- page:
    - name: Warehouse overview
    - label: Warehouse boxes
    - button: add
    - label: b001, red shoes, shelf 42

- page:
    - name: Warehouse add box
    - label: Store new box
    - input: barcode
      fill: b002
    - input: type
      fill: red shoes
    - input: location
      fill: shelf 23
    - button: ok
      command: store product

- policy: Warehouse

- data: Box
  barcode: b002
  content: red shoes
  location: shelf 23

- event: product stored
  barcode: b002
  type: red shoes

- page:
    - name: Warehouse overview
    - label: Warehouse boxes
    - button: add
    - label: b002, red shoes, shelf 23
    - label: b001, red shoes, shelf 42

- page:
    - name: Warehouse add box
    - label: Store new box
    - input: barcode
      fill: b003
    - input: type
      fill: blue jeans
    - input: location
      fill: shelf 1337
    - button: ok
      command: store product

- policy: Warehouse

- data: Box
  barcode: b003
  content: blue jeans
  location: shelf 1337

- event: product stored
  barcode: b003
  type: blue jeans

- page:
    - name: Warehouse overview
    - label: Warehouse boxes
    - button: add
    - label: b003, blue jeans, shelf 1337
    - label: b002, red shoes, shelf 23
    - label: b001, red shoes, shelf 42

- action: Sabine Sales

- page:
    - name: MicroShop offers
    - label: Offers overview
    - button: add
    - label: no offers yet

- page:
    - name: MicroShop add offer
    - label: make new offer
    - input: product
      fill: red shoes
    - input: price
      fill: $42
    - button: ok
      command: add offer 12:14:42

- policy: MicroShop

- data: Product
  name: red shoes
  price: $42

- event: product offered
  name: red shoes
  price: $42

- page:
    - name: MicroShop offers
    - label: Offers overview
    - button: add
    - label: red shoes, $42

- page:
    - name: MicroShop add offer
    - label: make new offer
    - input: product
      fill: blue jeans
    - input: price
      fill: $63
    - button: ok
      command: add offer

- policy: MicroShop

- data: Product
  name: blue jeans
  price: $63

- event: product offered
  name: blue jeans
  price: $63

- page:
    - name: MicroShop offers
    - label: Offers overview
    - button: add
    - label: red shoes, $42
    - label: blue jeans, $63


- action: Carli Customer

- page:
    - name: MicroShop offers
    - label: Welcome to our micro shop
    - label: We have
    - label: red shoes for $42
    - label: blue jeans for $63
    - button: order

- page:
    - name: MicroShop buy
    - label: Welcome to our micro shop
    - input: product
      fill: red shoes
    - input: customer
      fill: Carli Customer
    - input: address
      fill: Wonderland 1
    - button: buy
      command: place order

- policy: MicroShop

- data: Order
  code: o0925_1
  product: red shoes
  product.back: [orders]
  customer: Carli Customer
  customer.back: [orders]
  address: Wonderland 1
  state: new order

- data: Customer
  name: Carli Customer

- event: product ordered
  code: o0925_1
  product: red shoes
  customer: Carli Customer
  address: Wonderland 1

- policy: Warehouse

- data: PickTask
  code: pt_o0925_1
  product: red shoes
  shelf: [shelf 42, shelf 23]
  customer: Carli Customer
  address: Wonderland 1
  state: picking

- event: Pick task created
  code: pt_o0925_1
  order: o0925_1

- policy: MicroShop

- data: Order
  code: o0925_1
  state: picking


- page:
    - name: MicroShop Carli overview
    - label: Welcome Carli
    - label: Your orders are
    - label: red shoes for $42, picking
    - button: order



- action: Peter Picker

- page:
    - name: Warehouse pick tasks
    - label: Pick tasks overview
    - button: pt_o0925_1, red shoes, shelf 42, shelf 23

- page:
    - name: Warehouse pick one
    - label: Pick one
    - input: task
      fill: pt_o0925_1
    - input: shelf
      fill: shelf 42
    - button: done
      command: Pick

- policy: Warehouse

- data: PickTask
  code: pt_o0925_1
  from: shelf 42
  state: shipping

- event: order picked
  order: o0925_1

- policy: MicroShop

- data: Order
  code: o0925_1
  state: shipping

- page:
    - name: Warehouse pick tasks
    - label: Pick tasks overview
    - label: no tasks, have a break


- action: Dora Delivery

- page:
    - name: Warehouse delivery tasks
    - label: Delivery tasks overview
    - button: red shoes, Wonderland 1

- page:
    - name: Warehouse deliver
    - label: Delivering
    - input: order
      fill: o0925_1
    - button: done
      command: deliver order

- policy: MicroShop

- data: Order
  code: o0925_1
  state: delivered

- event: order delivered
  order: o0925_1

- page:
    - name: Warehouse delivery tasks
    - label: Delivery tasks overview
    - label: everything delivered, you are a hero


- workflow: out of stock

- action: Carli Customer

- event: product ordered

- event: order rejected


