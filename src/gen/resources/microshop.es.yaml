- workflow: store products

- user: Peter Picker

- page:
    - pageName: Warehouse overview
    - text: Warehouse Home
    - button: Store Tasks
      targetPage: Warehouse store tasks
    - button: Pick Tasks
      targetPage: Warehouse pick tasks


- page:
    - pageName: Warehouse store tasks
    - text: Warehouse palettes
    - button: add
    - text: empty


- page:
    - pageName: Warehouse add palette
    - text: Store new palette
    - input: barcode
    - input: product
    - input: amount
    - input: location
    - button: ok

- page:
    - pageName: Warehouse add palette red_shoes
    - text: Store new palette
    - input: barcode
      fill: b001
    - input: product
      fill: red_shoes
    - input: amount
      fill: O10
    - input: location
      fill: shelf_42
    - button: ok

- service: Warehouse

- data: Palette p001
  barcode: b001
  product: red_shoes
  product.back: [palettes]
  amount: 10
  location: shelf_42

- data: WHProduct red_shoes
  itemName: red shoes
  amount: 10

- event: product stored
  barcode: b001
  product: red_shoes
  amount: 10

- service: MicroShop

- data: MSProduct ms_red_shoes
  itemName: red shoes
  amount: 10
  state: in stock

- page:
    - pageName: Warehouse store tasks 2
    - text: Warehouse palettes
    - button: add
    - text: b001, 10 red_shoes, shelf_42

- page:
    - pageName: Warehouse add palette
    - text: Store new palette
    - input: barcode
      fill: b002
    - input: product
      fill: red_shoes
    - input: amount
      fill: O8
    - input: location
      fill: shelf_23
    - button: ok

- service: Warehouse

- data: Palette p2
  barcode: b002
  product: red_shoes
  amount: 8
  location: shelf_23

- data: WHProduct red_shoes
  itemName: red shoes
  amount: 18

- event: product stored
  barcode: b002
  product: red_shoes
  amount: 8

- service: MicroShop

- data: MSProduct ms_red_shoes
  itemName: red shoes
  amount: 18
  state: in stock

- page:
    - pageName: Warehouse overview
    - text: Warehouse palettes
    - button: add
    - text: b002, red_shoes, shelf_23
    - text: b001, red_shoes, shelf_42

- page:
    - pageName: Warehouse add palette
    - text: Store new palette
    - input: barcode
      fill: b003
    - input: product
      fill: blue_jeans
    - input: amount
      fill: O6
    - input: location
      fill: shelf_1337
    - button: ok

- service: Warehouse

- data: Palette p003
  barcode: b003
  product: blue_jeans
  amount: 6
  location: shelf_1337

- data: WHProduct blue_jeans
  itemName: blue jeans
  amount: 6

- event: product stored
  barcode: b003
  product: blue_jeans
  amount: 6

- service: MicroShop

- data: MSProduct ms_blue_jeans
  itemName: blue jeans
  state: in stock
  amount: 6

- page:
    - pageName: Warehouse overview
    - text: Warehouse palettes
    - button: add
    - text: b003, blue_jeans, shelf_1337
    - text: b002, red_shoes, shelf_23
    - text: b001, red_shoes, shelf_42




- user: Sabine Sales

- page:
    - pageName: MicroShop offers 1
    - text: Offers overview
    - button: edit
      targetPage: MicroShop edit offer 1
    - text: We offer  6 blue jeans for 0
    - text: We offer 18 red shoes for 0

- page:
    - pageName: MicroShop edit offer 1
    - text: Edit offer
    - input: product
    - input: price
    - button: Submit
      targetPage: MicroShop edit offer 2

- page:
    - pageName: MicroShop edit offer 2
    - text: Edit offer
    - input: product
      fill: red_shoes
    - input: price
      fill: O42
    - button: Submit
      targetPage: MicroShop offers 2

- service: MicroShop

- data: MSProduct ms_red_shoes
  itemName: red shoes
  price: 42

- event: product offered
  itemName: red_shoes
  price: 42

- page:
    - pageName: MicroShop offers 2
    - text: Offers overview
    - button: edit
      targetPage: MicroShop edit offer 3
    - text: We offer  6 blue jeans for 0
    - text: We offer 18 red shoes for 42


- page:
    - pageName: MicroShop edit offer 3
    - text: Edit offer
    - input: product
      fill: blue_jeans
    - input: price
      fill: O63
    - button: Submit
      targetPage: MicroShop offers 3

- service: MicroShop

- data: MSProduct ms_blue_jeans
  itemName: blue jeans
  price: 63

- event: product offered
  itemName: blue_jeans
  price: 63

- page:
    - pageName: MicroShop offers 3
    - text: Offers overview
    - button: edit
      targetPage: MicroShop 1
    - text: We offer  6 blue jeans for 63
    - text: We offer 18 red shoes for 42


- user: Carli_Customer

- page:
    - pageName: MicroShop 1
    - text: Welcome to our micro shop
    - text: We have
    - text: red_shoes for 42
    - text: blue_jeans for 63
    - button: order
      targetPage: MicroShop buy 1

- page:
    - pageName: MicroShop buy 1
    - text: Welcome to our micro shop
    - input: product
      fill: red_shoes
    - input: customer
    - input: address
    - button: buy
      targetPage: MicroShop buy 2

- page:
    - pageName: MicroShop buy 2
    - text: Welcome to our micro shop
    - input: product
      fill: red_shoes
    - input: customer
      fill: Carli_Customer
    - input: address
      fill: Wonderland 1
    - button: buy
      targetPage: MicroShop Carli overview 1

- service: MicroShop

- data: Order o1
  code: o0925_1
  product: ms_red_shoes
  product.back: [orders]
  customer: Carli_Customer
  customer.back: [orders]
  address: Wonderland 1
  state: new order

- data: Customer Carli_Customer
  itemName: Carli Customer

- data: MSProduct ms_red_shoes
  itemName: red shoes
  amount: 17

- event: product ordered
  code: o0925_1
  product: red_shoes
  customer: Carli_Customer
  address: Wonderland 1

- service: Warehouse

- data: PickTask pt1
  code: pt_o0925_1
  product: red_shoes
  product.back: [pickTasks]
  shelf: [shelf_42, shelf_23]
  customer: Carli_Customer
  address: Wonderland 1
  state: picking

- event: Pick task created
  code: pt_o0925_1
  order: o0925_1

- service: MicroShop

- data: Order o2
  code: o0925_1
  state: picking


- page:
    - pageName: MicroShop Carli overview 1
    - text: Welcome Carli
    - text: Your orders are
    - text: red_shoes for 42, picking
    - button: order


- user: Peter Picker

- page:
    - pageName: Warehouse pick tasks
    - text: Pick tasks overview
    - button: pt_o0925_1, red_shoes, shelf_42, shelf_23

- page:
    - pageName: Warehouse pick one
    - text: Pick one
    - input: task
    - input: shelf
    - button: done

- service: Warehouse

- data: PickTask pt2
  code: pt_o0925_1
  from: shelf_42
  palette: b001
  palette.back: [pickTasks]
  state: shipping

- data: Palette p5
  barcode: b001
  amount: 9

- data: WHProduct wPro6
  itemName: red_shoes
  amount: 17

- event: order picked
  order: o0925_1

- service: MicroShop

- data: Order o3
  code: o0925_1
  state: shipping

- page:
    - pageName: Warehouse pick tasks
    - text: Pick tasks overview
    - text: no tasks, have a break


- user: Dora Delivery

- page:
    - pageName: Warehouse delivery tasks
    - text: Delivery tasks overview
    - button: red_shoes, Wonderland 1

- page:
    - pageName: Warehouse deliver
    - text: Delivering
    - input: order
    - button: done

- service: MicroShop

- data: Order o2
  code: o0925_1
  state: delivered

- event: order delivered
  order: o0925_1

- page:
    - pageName: Warehouse delivery tasks
    - text: Delivery tasks overview
    - text: everything delivered, you are a hero


- workflow: out of stock

- user: Carli_Customer

- event: product ordered
  itemName: PS5

- event: order rejected
  message: out of stock

