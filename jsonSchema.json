{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/product.schema.json",
  "title": "Testing Schema",
  "description": "Testing out schema in its most basic ways",
  "type": "array",
  "additionalItems": false,
  "$defs": {
    "boardItem": {
      "description": "The name of the overall project",
      "type": "object",
      "properties": {
        "board": {
          "type": "string"
        }
      },
      "required": [
        "board"
      ],
      "additionalProperties": false
    },
    "boundedcontext": {
      "description": "The title of an subworkflow that becomes its own service",
      "type": "object",
      "properties": {
        "boundedcontext": {
          "type": "string"
        }
      },
      "required": [
        "boundedcontext"
      ],
      "additionalProperties": false
    },
    "brokerItem": {
      "description": "A stream of events provided by a broker under some topic",
      "type": "object",
      "properties": {
        "brokertopic": {
          "type": "string"
        }
      },
      "required": [
        "brokertopic"
      ],
      "additionalProperties": false
    },
    "workflowItem": {
      "description": "The title of your current workflow",
      "type": "object",
      "properties": {
        "workflow": {
          "type": "string"
        }
      },
      "required": [
        "workflow"
      ],
      "additionalProperties": false
    },
    "serviceItem": {
      "description": "Action performed by user",
      "type": "object",
      "properties": {
        "service": {
          "type": "string"
        },
        "port": {
          "type": "number"
        }
      },
      "required": [
        "service",
        "port"
      ],
      "additionalProperties": false
    },
    "subprocessItem": {
      "description": "A subprocess which is defined in a seperate workflow",
      "type": "object",
      "properties": {
        "subprocess": {
          "type": "string"
        }
      },
      "required": [
        "subprocess"
      ]
    },
    "commandItem": {
      "description": "A command send by a user",
      "type": "object",
      "properties": {
        "command": {
          "type": "string"
        }
      },
      "required": [
        "command"
      ]
    },
    "eventItem": {
      "description": "An event signalling that some system state is reached",
      "type": "object",
      "properties": {
        "event": {
          "type": "string"
        }
      },
      "required": [
        "event"
      ]
    },
    "policyItem": {
      "description": "The following steps define the reaction of a service to some triggering command or event",
      "type": "object",
      "properties": {
        "policy": {
          "type": "string"
        },
        "trigger": {
          "type": "string"
        }
      },
      "required": [
        "policy",
        "trigger"
      ],
      "additionalProperties": false
    },
    "classItem": {
      "description": "class for data within a service",
      "type": "object",
      "properties": {
        "class": {
          "type": "string"
        }
      },
      "required": [
        "class"
      ]
    },
    "dataItem": {
      "description": "data object created within a service",
      "type": "object",
      "properties": {
        "data": {
          "type": "string"
        }
      },
      "required": [
        "data"
      ]
    },
    "actionItem": {
      "description": "Defines the user who is going to perform an action",
      "type": "object",
      "properties": {
        "action": {
          "type": "string"
        }
      },
      "required": [
        "action"
      ],
      "additionalProperties": false
    },
    "queryItem": {
      "description": "Defines a query on the current system state",
      "type": "object",
      "properties": {
        "query": {
          "type": "string"
        }
      },
      "required": [
        "query"
      ],
      "additionalProperties": false
    },
    "pageList": {
      "description": "Defines a ui page",
      "type": "object",
      "properties": {
        "page": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/$defs/nameItem"
              },
              {
                "$ref": "#/$defs/labelItem"
              },
              {
                "$ref": "#/$defs/buttonItem"
              },
              {
                "$ref": "#/$defs/inputItem"
              },
              {
                "$ref": "#/$defs/passwordItem"
              }
            ]
          }
        }
      },
      "required": [
        "page"
      ]
    },
    "nameItem": {
      "description": "Defines the name of the page",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        }
      },
      "required": [
        "name"
      ]
    },
    "labelItem": {
      "description": "Defines a label",
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        }
      },
      "required": [
        "label"
      ]
    },
    "buttonItem": {
      "description": "Defines a button with optional event",
      "type": "object",
      "properties": {
        "button": {
          "type": "string"
        },
        "event": {
          "type": "string"
        }
      },
      "required": [
        "button"
      ]
    },
    "inputItem": {
      "description": "Defines an input with optional fill",
      "type": "object",
      "properties": {
        "input": {
          "type": "string"
        },
        "fill": {
          "type": ["string", "number"]
        }
      },
      "required": [
        "input"
      ]
    },
    "passwordItem": {
      "description": "Defines a password input with optional fill",
      "type": "object",
      "properties": {
        "password": {
          "type": "string"
        },
        "fill": {
          "type": ["string", "number"]
        }
      },
      "required": [
        "password"
      ]
    }
  },
  "items": {
    "oneOf": [
      {
        "$ref": "#/$defs/boardItem"
      },
      {
        "$ref": "#/$defs/workflowItem"
      },
      {
        "$ref": "#/$defs/brokerItem"
      },
      {
        "$ref": "#/$defs/boundedcontext"
      },
      {
        "$ref": "#/$defs/commandItem"
      },
      {
        "$ref": "#/$defs/subprocessItem"
      },
      {
        "$ref": "#/$defs/eventItem"
      },
      {
        "$ref": "#/$defs/policyItem"
      },
      {
        "$ref": "#/$defs/serviceItem"
      },
      {
        "$ref": "#/$defs/classItem"
      },
      {
        "$ref": "#/$defs/dataItem"
      },
      {
        "$ref": "#/$defs/actionItem"
      },
      {
        "$ref": "#/$defs/queryItem"
      },
      {
        "$ref": "#/$defs/pageList"
      }
    ]
  }
}
